---
title: Personalizaci√≥n de mensajes
description: Usa variables din√°micas y l√≥gica condicional para personalizar emails, SMS y notificaciones push en Nevent.
sidebar:
  order: 2
---

import Schema from '../../../components/Schema.astro';
import { Aside } from '@astrojs/starlight/components';

<Schema>{`{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://docs.nevent.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Campa√±as",
      "item": "https://docs.nevent.com/campaigns"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Personalizaci√≥n de mensajes",
      "item": "https://docs.nevent.com/campaigns/personalization"
    }
  ]
}`}</Schema>

# Personalizaci√≥n de mensajes

Nevent te permite personalizar emails, SMS y notificaciones push usando variables din√°micas que se reemplazan autom√°ticamente con datos del destinatario.

## C√≥mo funciona

Una plantilla con variables como `{{ first_name }} {{ last_name }}` se transforma autom√°ticamente en datos reales al enviar:

**Plantilla:**
```
Hola {{ first_name }}, tu entrada para {{ event_name }} est√° confirmada.
```

**Email enviado a Mar√≠a:**
```
Hola Mar√≠a, tu entrada para Festival Verano 2026 est√° confirmada.
```

## Variables de perfil

### Propiedades b√°sicas

Propiedades est√°ndar de Nevent disponibles para todos los fans:

| Variable | Descripci√≥n | Ejemplo |
|----------|-------------|---------|
| `{{ email }}` | Email del fan | maria@ejemplo.com |
| `{{ first_name }}` | Nombre | Mar√≠a |
| `{{ last_name }}` | Apellido | Garc√≠a |
| `{{ phone }}` | Tel√©fono | +34 600 123 456 |

### Propiedades geogr√°ficas

Datos de ubicaci√≥n del fan:

| Variable | Descripci√≥n | Ejemplo |
|----------|-------------|---------|
| `{{ person.City }}` | Ciudad | Barcelona |
| `{{ person.Region }}` | Regi√≥n/Provincia | Barcelona |
| `{{ person.Country }}` | Pa√≠s | Espa√±a |
| `{{ person.PostalCode }}` | C√≥digo postal | 08001 |

Para direcci√≥n completa y zona horaria, usa sintaxis de lookup:

```
{{ person|lookup:"$address1" }}
{{ person|lookup:"$timezone" }}
```

### Propiedades personalizadas

Para propiedades custom que has a√±adido a perfiles de fans:

**Propiedades simples:**
```
{{ person.favorite_genre }}
{{ person.vip_status }}
```

**Propiedades con espacios o caracteres especiales:**
```
{{ person|lookup:'G√©nero Favorito' }}
{{ person|lookup:'N√∫mero de Eventos' }}
```

## Variables de eventos

Cuando env√≠as campa√±as relacionadas con eventos espec√≠ficos, puedes usar datos del evento:

| Variable | Descripci√≥n | Ejemplo |
|----------|-------------|---------|
| `{{ event.name }}` | Nombre del evento | Festival Indie 2026 |
| `{{ event.date }}` | Fecha del evento | 15 de junio de 2026 |
| `{{ event.venue }}` | Recinto | Parc del F√≤rum |
| `{{ event.city }}` | Ciudad del evento | Barcelona |

<Aside type="note">
Las variables de eventos solo funcionan en flujos activados por eventos espec√≠ficos o en campa√±as vinculadas a un evento concreto.
</Aside>

## Variables de compra

Para emails relacionados con compras de entradas:

| Variable | Descripci√≥n | Ejemplo |
|----------|-------------|---------|
| `{{ order.total }}` | Total de la orden | 145.00 |
| `{{ order.tickets }}` | N√∫mero de entradas | 2 |
| `{{ order.id }}` | ID de orden | NE-2026-08432 |
| `{{ ticket.type }}` | Tipo de entrada | VIP |

## Enlaces de gesti√≥n

### Cancelar suscripci√≥n

Todos los emails deben incluir enlace para darse de baja:

```
{% unsubscribe %}
```

Genera autom√°ticamente: "Darte de baja"

Para personalizar el texto:

```
<a href="{% unsubscribe_link %}">No quiero recibir m√°s emails</a>
```

### Preferencias

Permite a fans gestionar sus preferencias de comunicaci√≥n:

```
{% manage_preferences %}
```

### Ver en navegador

A√±ade opci√≥n para ver el email en un navegador:

```
{% web_view %}
```

## L√≥gica condicional

### If statements

Muestra contenido solo si se cumple una condici√≥n:

```
{% if person.vip_status == "VIP" %}
  Como fan VIP, tienes acceso anticipado 24h antes.
{% endif %}
```

**Ejemplo con else:**

```
{% if person.tickets > 0 %}
  Tienes {{ person.tickets }} entradas confirmadas.
{% else %}
  A√∫n no has comprado entradas. ¬°No te quedes fuera!
{% endif %}
```

**Condiciones m√∫ltiples:**

```
{% if person.city == "Barcelona" %}
  El festival est√° en tu ciudad. Transporte: Metro L4 o Bus H16.
{% elif person.city == "Madrid" %}
  Vuelos desde Madrid: 45‚Ç¨ ida y vuelta.
{% else %}
  Consulta opciones de transporte y alojamiento.
{% endif %}
```

### Comparadores disponibles

| Comparador | Uso | Ejemplo |
|------------|-----|---------|
| `==` | Igual a | `{% if city == "Barcelona" %}` |
| `!=` | Diferente de | `{% if ticket_type != "VIP" %}` |
| `>` | Mayor que | `{% if tickets > 2 %}` |
| `>=` | Mayor o igual | `{% if spend >= 200 %}` |
| `<` | Menor que | `{% if days_to_event < 7 %}` |
| `<=` | Menor o igual | `{% if age <= 25 %}` |

### For loops

Itera sobre listas de elementos (ej: entradas compradas):

```
Tus entradas:
{% for ticket in order.tickets %}
  - {{ ticket.type }} - {{ ticket.price }}‚Ç¨
{% endfor %}
```

**Resultado para un fan con 2 entradas:**
```
Tus entradas:
  - General - 80‚Ç¨
  - VIP - 150‚Ç¨
```

## Filtros de formato

### Default (valor por defecto)

Muestra un valor alternativo si la variable est√° vac√≠a:

```
Hola {{ first_name|default:"fan" }},
```

Si `first_name` est√° vac√≠o, muestra "Hola fan,".

### Title (capitalizaci√≥n)

Formatea nombres correctamente sin importar c√≥mo fueron ingresados:

```
{{ first_name|title }} {{ last_name|title }}
```

Convierte "MAR√çA garc√≠a" en "Mar√≠a Garc√≠a".

### Upper / Lower

Fuerza may√∫sculas o min√∫sculas:

```
{{ city|upper }}  ‚Üí BARCELONA
{{ email|lower }}  ‚Üí maria@ejemplo.com
```

### Currency (formato moneda)

Muestra cantidades con s√≠mbolo de moneda:

```
Total: {% currency_format order.total %}
```

Resultado: "Total: 145,00 ‚Ç¨"

### Date (formato fecha)

Formatea fechas:

```
Tu evento es el {{ event.date|date:"d \de F \de Y" }}
```

Resultado: "Tu evento es el 15 de junio de 2026"

## Variables de tiempo

### Fecha actual

Inserta la fecha del momento de env√≠o:

```
{% today "%d/%m/%Y" as today %}
Fecha de env√≠o: {{ today }}
```

### D√≠as hasta evento

Calcula tiempo restante:

```
{% if days_to_event <= 7 %}
  ‚è∞ Tu evento es en {{ days_to_event }} d√≠as
{% endif %}
```

## Ejemplos pr√°cticos

### Email de confirmaci√≥n de compra

```
Hola {{ first_name|default:"fan" }},

¬°Tu compra est√° confirmada! üéâ

Evento: {{ event.name }}
Fecha: {{ event.date|date:"d \de F, Y" }}
Lugar: {{ event.venue }}, {{ event.city }}

Tus entradas:
{% for ticket in order.tickets %}
  {{ ticket.type }} - {{ ticket.price }}‚Ç¨
{% endfor %}

Total pagado: {% currency_format order.total %}

ID de orden: {{ order.id }}

{% if event.city == person.City %}
  Como el evento es en tu ciudad, puedes llegar en transporte p√∫blico.
{% else %}
  Recuerda reservar alojamiento y transporte con antelaci√≥n.
{% endif %}

Nos vemos pronto,
El equipo de {{ event.name }}

{% manage_preferences %} | {% unsubscribe %}
```

### SMS de recordatorio

```
Hola {{ first_name }}!
{{ event.name }} es MA√ëANA a las {{ event.time }}.
Tu entrada: {{ ticket.type }}
Nos vemos en {{ event.venue }}! üéµ
```

### Email segmentado por gasto

```
Hola {{ first_name }},

{% if person.total_spend >= 500 %}
  Como fan VIP (gasto total: {% currency_format person.total_spend %}),
  tienes acceso exclusivo 48h antes del anuncio p√∫blico.
{% elif person.total_spend >= 200 %}
  Acceso anticipado para ti: 24h antes del p√∫blico general.
{% else %}
  Venta de entradas el {{ sale_date }}.
{% endif %}

{{ event.name }} - {{ event.date|date:"F Y" }}
```

### Push notification condicional

```
{% if days_to_event == 1 %}
  üéâ ¬°Ma√±ana es {{ event.name }}! Revisa tu entrada.
{% elif days_to_event == 7 %}
  üìÖ Una semana para {{ event.name }}. ¬øYa tienes tu outfit?
{% endif %}
```

## Mejores pr√°cticas

### Siempre usa valores por defecto

Protege contra datos faltantes:

```
‚ùå Hola {{ first_name }},
‚úÖ Hola {{ first_name|default:"fan" }},
```

Si el nombre est√° vac√≠o, el primer caso muestra "Hola ," (mal). El segundo "Hola fan," (bien).

### Testea antes de enviar

1. Env√≠a un email de prueba a ti mismo
2. Verifica que todas las variables se reemplazan correctamente
3. Prueba con perfiles que tengan datos completos e incompletos
4. Confirma que la l√≥gica condicional funciona

### Personaliza con moderaci√≥n

No abuses de la personalizaci√≥n:

```
‚ùå Hola {{ first_name }} de {{ city }}, {{ region }}, {{ country }}...
‚úÖ Hola {{ first_name }}, como fan de {{ city }}...
```

Demasiada personalizaci√≥n parece invasivo.

### Segmenta en lugar de condicionales complejos

Si tu email tiene muchos `{% if %}` diferentes, probablemente deber√≠as crear **segmentos separados** y enviar **campa√±as distintas**:

```
‚ùå Un email con 10 condicionales diferentes

‚úÖ 3 campa√±as a 3 segmentos:
   - VIPs de Barcelona
   - VIPs de otras ciudades
   - Fans no-VIP
```

## Recursos relacionados

- [C√≥mo crear una campa√±a de email](/campaigns/email-campaigns) - Proceso completo de creaci√≥n
- [Introducci√≥n a segmentos](/audience/motor-segmentacion/) - Crea audiencias espec√≠ficas
- [Grupos para A/B testing](/audience/motor-segmentacion/grupos) - Testea variantes personalizadas
